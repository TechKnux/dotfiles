// -*- mode: jsonc -*-
{
    "layer": "top", // Waybar at top layer
   // "position": "top", // Waybar position (top|bottom|left|right)
    "height": 34, // Waybar height (to be removed for auto height)
    
    "spacing": 2, 
    
    "modules-left": [ "niri/workspaces", "custom/media", "cffi/niri_window_buttons", ],
    "modules-center": [ "niri/window", ],
    "modules-right": ["mpd", "custom/weather", "cpu", "memory", "pulseaudio", "backlight", "network", "niri/language", "clock", "custom/power", ],

    // Modules configuration
    "niri/workspaces": {
        "all-outputs": false,
        "format": "{icon}",
        "format-icons": {
            //Named Workspaces
            "chat": "ïµ",
            "general": "ï‚¬",
            "work": "ó°ƒ–",
            "games": "ï„›",
   //          "5": "",

            //Icons by state
            "urgent": "ïª",
        }
    },

    "cffi/niri_window_buttons": {
    "module_path": "/usr/lib/waybar/libniri_window_buttons.so",
    "only_current_workspace": true,
    "show_window_titles": false,
    "icon_size": 24,
    "icon_spacing": 6,
    "min_button_width": 32,
    "max_button_width": 32,
    "max_taskbar_width": 200,
    "click_actions": {
      "left_click_unfocused": "focus-window",
      "left_click_focused": "maximize-column",
      "double_click": "maximize-window-to-edges",
      "right_click": "menu",
      "middle_click": "close-window"
    },
    "context_menu": [
      {"label": "î‰  Maximize Column", "action": "maximize-column"},
      {"label": "ï¯  Maximize to Edges", "action": "maximize-window-to-edges"},
      {"label": "ó°‰©  Toggle Floating", "action": "toggle-window-floating"},
      {"label": "ï‹“  Close Window", "action": "close-window"}
    ],
    "ignore_rules": [{"app_id": "zen", "title_contains": "Picture-in-Picture"},
                    {"app_id": "steam", "title_regex": "^Friends List$"}
    ],
    "notifications": {
      "enabled": true,
      "use_desktop_entry": true,
      "use_fuzzy_matching": false
    },
    "apps": {}
    },
       
    "niri/window":{
        "icon": false,
        "max-length":100,
        "rewrite": {
            "(.*) - Zen Browser": "zen",
            "^$": "Niri"
        }
    },
        
    "mpd": {
        "format": "{stateIcon} {consumeIcon}{randomIcon}{repeatIcon}{singleIcon}{artist} - {album} - {title} ({elapsedTime:%M:%S}/{totalTime:%M:%S}) â¸¨{songPosition}|{queueLength}â¸© {volume}% ï€",
        "format-disconnected": "Disconnected ï€",
        "format-stopped": "{consumeIcon}{randomIcon}{repeatIcon}{singleIcon}Stopped ï€",
        "unknown-tag": "N/A",
        "interval": 5,
        "consume-icons": {
            "on": "ïƒ„ "
        },
        "random-icons": {
            "off": "<span color=\"#f53c3c\">ï´</span> ",
            "on": "ï´ "
        },
        "repeat-icons": {
            "on": "ï€ "
        },
        "single-icons": {
            "on": "ï€1 "
        },
        "state-icons": {
            "paused": "ïŒ",
            "playing": "ï‹"
        },
        "tooltip-format": "MPD (connected)",
        "tooltip-format-disconnected": "MPD (disconnected)"

    },

    "custom/weather": {
        "format": "{}Â°",
        "tooltip": true,
        "interval": 1800,
        "exec": "wttrbar --nerd --lang pt",
        "return-type": "json"
    },

    "clock": {
        // "timezone": "America/New_York",
        "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
        "format-alt": "{:%d/%m/%Y}"
    },
    "cpu": {
        "interval": 1,
        "format": "ï’¼ {usage}%",
    },
    "memory": {
        "interval": 3,
        "format": "î¿… {}%"
    },

    "niri/language": {
        "format": "{}",
        "format-en": "ğŸ‡ºğŸ‡¸",
        "format-jp": "Ì‰Ì‰ğŸ‡¯ğŸ‡µ",
        "format-pt": "ğŸ‡§ğŸ‡·",
    },

    "backlight": {
        "device": "acpi_video1",
        "format": "{percent}% {icon}",
        "format-icons": ["î", "î“", "î‘", "î", "î", "î", "îŠ", "îˆ", "î›"]
    },

    "network": {
        // "interface": "wlp2*", // (Optional) To force the use of this interface
        "format-wifi": "{essid} ({signalStrength}%) ï‡«",
        "format-ethernet": "ó°›³",
        "tooltip-format": "Network:\n<tt>{ifname} via {gwaddr}",
        "format-linked": "{ifname} (No IP) ï– ",
        "format-disconnected": "âš ",
        "format-alt": "{ifname}: {ipaddr}/{cidr}"
    },
    "pulseaudio": {
        // "scroll-step": 1, // %, can be a float
        "format": "{icon} {volume}%",
        "format-bluetooth": "{volume}% {icon}ïŠ” {format_source}",
        "format-bluetooth-muted": "ïš© {icon}ïŠ” {format_source}",
        "format-muted": "ïš© {format_source}",
        "format-source": "{volume}% ï„°",
        "format-source-muted": "ï„±",
        "format-icons": {
            "headphone": "ï€¥",
            "hands-free": "ï–",
            "headset": "ï–",
            "phone": "ï‚•",
            "portable": "ï‚•",
            "car": "ï†¹",
            "default": ["ï€¦", "ï€§", "ï€¨"]
        },
        "on-click": "pavucontrol"
    },
   
    "custom/media": {
        "format": "{icon} {text}",
        "return-type": "json",
        "max-length": 40,
        "format-icons": {
            "spotify": "ï†¼",
            "default": "ğŸœ"
        },
        "escape": true,
        "exec": "$HOME/.config/waybar/mediaplayer.py 2> /dev/null" // Script in resources folder
        // "exec": "$HOME/.config/waybar/mediaplayer.py --player spotify 2> /dev/null" // Filter player based on name
    },
    "custom/power": {
        "format" : "â»",
		"tooltip": false,
		"menu": "on-click",
		"menu-file": "$HOME/dotfiles/config/waybar/power_menu.xml", // Menu file in resources folder
		"menu-actions": {
			"shutdown": "systemctl poweroff",
			"reboot": "systemctl reboot",
			"suspend": "systemctl suspend",
			"hibernate": "systemctl hibernate"
		}
    }
}
